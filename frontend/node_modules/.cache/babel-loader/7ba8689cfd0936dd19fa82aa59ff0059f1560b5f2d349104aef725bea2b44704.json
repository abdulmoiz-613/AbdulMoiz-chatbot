{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[messages,setMessages]=useState([]);const[input,setInput]=useState('');const[isDarkMode,setIsDarkMode]=useState(false);const[isListening,setIsListening]=useState(false);const[selectedFile,setSelectedFile]=useState(null);const[context,setContext]=useState([]);// Store conversation context\nconst[isConnecting,setIsConnecting]=useState(false);const handleSend=async()=>{if(input.trim()){const userMessage={text:input,sender:'user'};setMessages(prev=>[...prev,userMessage]);const currentInput=input;setInput('');setIsConnecting(true);try{// Use relative URL since we have proxy configured\nconst response=await fetch('/chat',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({message:currentInput,context})});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();if(data.reply){const botMessage={text:data.reply,sender:'bot'};setMessages(prev=>[...prev,botMessage]);setContext(data.context||[...context,{role:'assistant',content:data.reply}]);speakResponse(data.reply);}else if(data.error){setMessages(prev=>[...prev,{text:\"Error: \".concat(data.error),sender:'bot'}]);}}catch(error){console.error('Chat error:',error);setMessages(prev=>[...prev,{text:'Error: Failed to connect to server. Make sure backend is running on port 5000.',sender:'bot'}]);}finally{setIsConnecting(false);}}};const startListening=()=>{// Check if speech recognition is supported\nif(!window.SpeechRecognition&&!window.webkitSpeechRecognition){setMessages(prev=>[...prev,{text:'Error: Speech recognition not supported in this browser.',sender:'bot'}]);return;}const recognition=new(window.SpeechRecognition||window.webkitSpeechRecognition)();recognition.lang='en-US';recognition.interimResults=false;recognition.maxAlternatives=1;recognition.continuous=false;recognition.onstart=()=>{setIsListening(true);};recognition.onresult=event=>{const speechResult=event.results[0][0].transcript;setInput(speechResult);setIsListening(false);};recognition.onerror=event=>{console.error('Speech recognition error:',event.error);let errorMessage='Speech recognition failed.';if(event.error==='no-speech'){errorMessage='No speech detected. Please try again.';}else if(event.error==='network'){errorMessage='Network error occurred during speech recognition.';}setMessages(prev=>[...prev,{text:\"Error: \".concat(errorMessage),sender:'bot'}]);setIsListening(false);};recognition.onend=()=>{setIsListening(false);};recognition.start();};const speakResponse=text=>{// Cancel any ongoing speech\nwindow.speechSynthesis.cancel();const utterance=new SpeechSynthesisUtterance(text);// Wait for voices to be loaded\nconst setVoiceAndSpeak=()=>{const voices=window.speechSynthesis.getVoices();if(voices.length>0){const femaleVoice=voices.find(voice=>voice.name.toLowerCase().includes('female')||voice.name.toLowerCase().includes('zira')||voice.name.toLowerCase().includes('hazel')||voice.gender==='female')||voices.find(voice=>voice.lang.startsWith('en'))||voices[0];utterance.voice=femaleVoice;utterance.pitch=1.0;utterance.rate=0.9;utterance.volume=0.8;utterance.onerror=event=>{console.error('Speech synthesis error:',event.error);};window.speechSynthesis.speak(utterance);}else{// Retry after a short delay if voices are not loaded yet\nsetTimeout(setVoiceAndSpeak,100);}};setVoiceAndSpeak();};const handleFileChange=event=>{setSelectedFile(event.target.files[0]);};const handleFileUpload=async()=>{if(selectedFile){const formData=new FormData();formData.append('file',selectedFile);try{// Use relative URL since we have proxy configured\nconst response=await fetch('/upload',{method:'POST',body:formData});if(!response.ok){throw new Error(\"HTTP error! status: \".concat(response.status));}const data=await response.json();setMessages(prev=>[...prev,{text:data.message||'File uploaded successfully.',sender:'bot'}]);setSelectedFile(null);// Reset file input\nconst fileInput=document.querySelector('input[type=\"file\"]');if(fileInput)fileInput.value='';}catch(error){console.error('Upload error:',error);setMessages(prev=>[...prev,{text:'Error: Failed to upload file.',sender:'bot'}]);}}};useEffect(()=>{const chatWindow=document.querySelector('.chat-window');if(chatWindow){chatWindow.scrollTop=chatWindow.scrollHeight;}// Load voices for speech synthesis\nconst loadVoices=()=>{const voices=window.speechSynthesis.getVoices();console.log('Available voices:',voices.length);};// Handle voices loading\nif(window.speechSynthesis.onvoiceschanged!==undefined){window.speechSynthesis.onvoiceschanged=loadVoices;}loadVoices();},[messages]);// Add class to document for dark mode\nuseEffect(()=>{if(isDarkMode){document.documentElement.classList.add('dark');}else{document.documentElement.classList.remove('dark');}},[isDarkMode]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex font-inter \".concat(isDarkMode?'dark bg-gradient-to-br from-gray-900 to-black text-white':'bg-am-gray text-gray-900'),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-64 bg-gray-900/95 p-5 flex flex-col shadow-2xl border-r border-gray-800/60\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-10 h-10 bg-am-blue text-white flex items-center justify-center rounded-full font-bold\",children:\"AM\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-semibold ml-3 text-white\",children:\"Abdul Moiz's AI\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{setMessages([]);setContext([]);},className:\"bg-am-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center mb-6 transition duration-300\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M10 2a8 8 0 100 16 8 8 0 000-16zM1 10a9 9 0 1118 0 9 9 0 01-18 0zm10-7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 100-2h-3V4a1 1 0 00-1-1z\"})}),\"New Chat\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto space-y-2\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-400 text-sm mb-3\",children:\"Recent Chats\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{className:\"p-2 text-gray-400 hover:bg-gray-800/70 rounded-lg cursor-pointer transition duration-300\",children:messages.length>0?'Current Chat':'No chats yet'})})]}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mt-6 transition duration-300 flex items-center justify-center\",onClick:()=>setIsDarkMode(!isDarkMode),children:isDarkMode?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\",clipRule:\"evenodd\"})}),\"Light Mode\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4 mr-2\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z\"})}),\"Dark Mode\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white dark:bg-gray-800 p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-am-blue dark:text-blue-400\",children:\"Abdul Moiz's Voice AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 dark:text-gray-400\",children:\"Powered by advanced AI\"})]}),isConnecting&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center text-sm text-gray-500\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-am-blue mr-2\"}),\"Connecting...\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 p-6 overflow-y-auto space-y-4 chat-window bg-white dark:bg-gray-900\",children:[messages.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-full\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 h-16 bg-am-blue/10 dark:bg-am-blue/20 rounded-full flex items-center justify-center mx-auto mb-4\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-8 h-8 text-am-blue\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\"})})}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2\",children:\"Welcome to Abdul Moiz's AI\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 dark:text-gray-400\",children:\"Start a conversation or use voice input to chat with the AI\"})]})}),messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"p-3 rounded-xl max-w-[70%] shadow-lg animate-fade-in \".concat(msg.sender==='user'?'bg-am-blue text-white ml-auto':'bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white'),children:msg.text},index))]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-t bg-white dark:bg-gray-900/90 border-gray-200 dark:border-gray-700\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3 max-w-3xl mx-auto\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:input,onChange:e=>setInput(e.target.value),onKeyPress:e=>e.key==='Enter'&&!isConnecting&&handleSend(),disabled:isConnecting,className:\"flex-1 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-am-blue transition-colors \".concat(isDarkMode?'bg-gray-700 text-white border-gray-600 placeholder-gray-400':'bg-white text-gray-900 border-gray-300 placeholder-gray-500',\" \").concat(isConnecting?'opacity-50 cursor-not-allowed':''),placeholder:\"Ask Abdul Moiz's AI...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:isConnecting||!input.trim(),className:\"bg-am-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center \".concat(isConnecting||!input.trim()?'opacity-50 cursor-not-allowed':''),children:isConnecting?/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\"})})}),/*#__PURE__*/_jsx(\"button\",{onClick:startListening,disabled:isListening,className:\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center \".concat(isListening?'animate-pulse bg-red-600':''),title:isListening?'Listening...':'Start voice input',children:isListening?/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 012 0v4a1 1 0 11-2 0V7zM12 7a1 1 0 012 0v4a1 1 0 11-2 0V7z\",clipRule:\"evenodd\"})}):/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"currentColor\",viewBox:\"0 0 20 20\",children:/*#__PURE__*/_jsx(\"path\",{fillRule:\"evenodd\",d:\"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z\",clipRule:\"evenodd\"})})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:handleFileChange,className:\"text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:transition-colors \".concat(isDarkMode?'text-gray-400 file:bg-gray-700 file:text-gray-300 hover:file:bg-gray-600':'text-gray-500 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100'),accept:\"image/*,.pdf,.txt,.doc,.docx\",title:\"Upload a file\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleFileUpload,disabled:!selectedFile,className:\"bg-am-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center \".concat(!selectedFile?'opacity-50 cursor-not-allowed':''),title:\"Upload selected file\",children:/*#__PURE__*/_jsx(\"svg\",{className:\"w-4 h-4\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\"})})})]})})]})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","messages","setMessages","input","setInput","isDarkMode","setIsDarkMode","isListening","setIsListening","selectedFile","setSelectedFile","context","setContext","isConnecting","setIsConnecting","handleSend","trim","userMessage","text","sender","prev","currentInput","response","fetch","method","headers","body","JSON","stringify","message","ok","Error","concat","status","data","json","reply","botMessage","role","content","speakResponse","error","console","startListening","window","SpeechRecognition","webkitSpeechRecognition","recognition","lang","interimResults","maxAlternatives","continuous","onstart","onresult","event","speechResult","results","transcript","onerror","errorMessage","onend","start","speechSynthesis","cancel","utterance","SpeechSynthesisUtterance","setVoiceAndSpeak","voices","getVoices","length","femaleVoice","find","voice","name","toLowerCase","includes","gender","startsWith","pitch","rate","volume","speak","setTimeout","handleFileChange","target","files","handleFileUpload","formData","FormData","append","fileInput","document","querySelector","value","chatWindow","scrollTop","scrollHeight","loadVoices","log","onvoiceschanged","undefined","documentElement","classList","add","remove","className","children","onClick","fill","viewBox","d","fillRule","clipRule","stroke","strokeLinecap","strokeLinejoin","strokeWidth","map","msg","index","type","onChange","e","onKeyPress","key","disabled","placeholder","title","accept"],"sources":["C:/Users/sheik/OneDrive/Documents/Desktop/Voice_bot/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\n\r\nconst App = () => {\r\n  const [messages, setMessages] = useState([]);\r\n  const [input, setInput] = useState('');\r\n  const [isDarkMode, setIsDarkMode] = useState(false);\r\n  const [isListening, setIsListening] = useState(false);\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [context, setContext] = useState([]); // Store conversation context\r\n  const [isConnecting, setIsConnecting] = useState(false);\r\n\r\n  const handleSend = async () => {\r\n    if (input.trim()) {\r\n      const userMessage = { text: input, sender: 'user' };\r\n      setMessages((prev) => [...prev, userMessage]);\r\n      const currentInput = input;\r\n      setInput('');\r\n      setIsConnecting(true);\r\n\r\n      try {\r\n        // Use relative URL since we have proxy configured\r\n        const response = await fetch('/chat', {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify({ message: currentInput, context }),\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        if (data.reply) {\r\n          const botMessage = { text: data.reply, sender: 'bot' };\r\n          setMessages((prev) => [...prev, botMessage]);\r\n          setContext(data.context || [...context, { role: 'assistant', content: data.reply }]);\r\n          speakResponse(data.reply);\r\n        } else if (data.error) {\r\n          setMessages((prev) => [...prev, { text: `Error: ${data.error}`, sender: 'bot' }]);\r\n        }\r\n      } catch (error) {\r\n        console.error('Chat error:', error);\r\n        setMessages((prev) => [...prev, { text: 'Error: Failed to connect to server. Make sure backend is running on port 5000.', sender: 'bot' }]);\r\n      } finally {\r\n        setIsConnecting(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  const startListening = () => {\r\n    // Check if speech recognition is supported\r\n    if (!window.SpeechRecognition && !window.webkitSpeechRecognition) {\r\n      setMessages((prev) => [...prev, { text: 'Error: Speech recognition not supported in this browser.', sender: 'bot' }]);\r\n      return;\r\n    }\r\n\r\n    const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();\r\n    recognition.lang = 'en-US';\r\n    recognition.interimResults = false;\r\n    recognition.maxAlternatives = 1;\r\n    recognition.continuous = false;\r\n\r\n    recognition.onstart = () => {\r\n      setIsListening(true);\r\n    };\r\n\r\n    recognition.onresult = (event) => {\r\n      const speechResult = event.results[0][0].transcript;\r\n      setInput(speechResult);\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onerror = (event) => {\r\n      console.error('Speech recognition error:', event.error);\r\n      let errorMessage = 'Speech recognition failed.';\r\n      if (event.error === 'no-speech') {\r\n        errorMessage = 'No speech detected. Please try again.';\r\n      } else if (event.error === 'network') {\r\n        errorMessage = 'Network error occurred during speech recognition.';\r\n      }\r\n      setMessages((prev) => [...prev, { text: `Error: ${errorMessage}`, sender: 'bot' }]);\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.onend = () => {\r\n      setIsListening(false);\r\n    };\r\n\r\n    recognition.start();\r\n  };\r\n\r\n  const speakResponse = (text) => {\r\n    // Cancel any ongoing speech\r\n    window.speechSynthesis.cancel();\r\n    \r\n    const utterance = new SpeechSynthesisUtterance(text);\r\n    \r\n    // Wait for voices to be loaded\r\n    const setVoiceAndSpeak = () => {\r\n      const voices = window.speechSynthesis.getVoices();\r\n      if (voices.length > 0) {\r\n        const femaleVoice = voices.find(voice => \r\n          voice.name.toLowerCase().includes('female') || \r\n          voice.name.toLowerCase().includes('zira') ||\r\n          voice.name.toLowerCase().includes('hazel') ||\r\n          voice.gender === 'female'\r\n        ) || voices.find(voice => voice.lang.startsWith('en')) || voices[0];\r\n        \r\n        utterance.voice = femaleVoice;\r\n        utterance.pitch = 1.0;\r\n        utterance.rate = 0.9;\r\n        utterance.volume = 0.8;\r\n        \r\n        utterance.onerror = (event) => {\r\n          console.error('Speech synthesis error:', event.error);\r\n        };\r\n        \r\n        window.speechSynthesis.speak(utterance);\r\n      } else {\r\n        // Retry after a short delay if voices are not loaded yet\r\n        setTimeout(setVoiceAndSpeak, 100);\r\n      }\r\n    };\r\n    \r\n    setVoiceAndSpeak();\r\n  };\r\n\r\n  const handleFileChange = (event) => {\r\n    setSelectedFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleFileUpload = async () => {\r\n    if (selectedFile) {\r\n      const formData = new FormData();\r\n      formData.append('file', selectedFile);\r\n\r\n      try {\r\n        // Use relative URL since we have proxy configured\r\n        const response = await fetch('/upload', {\r\n          method: 'POST',\r\n          body: formData,\r\n        });\r\n        \r\n        if (!response.ok) {\r\n          throw new Error(`HTTP error! status: ${response.status}`);\r\n        }\r\n        \r\n        const data = await response.json();\r\n        setMessages((prev) => [...prev, { text: data.message || 'File uploaded successfully.', sender: 'bot' }]);\r\n        setSelectedFile(null);\r\n        // Reset file input\r\n        const fileInput = document.querySelector('input[type=\"file\"]');\r\n        if (fileInput) fileInput.value = '';\r\n      } catch (error) {\r\n        console.error('Upload error:', error);\r\n        setMessages((prev) => [...prev, { text: 'Error: Failed to upload file.', sender: 'bot' }]);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const chatWindow = document.querySelector('.chat-window');\r\n    if (chatWindow) {\r\n      chatWindow.scrollTop = chatWindow.scrollHeight;\r\n    }\r\n    \r\n    // Load voices for speech synthesis\r\n    const loadVoices = () => {\r\n      const voices = window.speechSynthesis.getVoices();\r\n      console.log('Available voices:', voices.length);\r\n    };\r\n    \r\n    // Handle voices loading\r\n    if (window.speechSynthesis.onvoiceschanged !== undefined) {\r\n      window.speechSynthesis.onvoiceschanged = loadVoices;\r\n    }\r\n    loadVoices();\r\n  }, [messages]);\r\n\r\n  // Add class to document for dark mode\r\n  useEffect(() => {\r\n    if (isDarkMode) {\r\n      document.documentElement.classList.add('dark');\r\n    } else {\r\n      document.documentElement.classList.remove('dark');\r\n    }\r\n  }, [isDarkMode]);\r\n\r\n  return (\r\n    <div className={`min-h-screen flex font-inter ${isDarkMode ? 'dark bg-gradient-to-br from-gray-900 to-black text-white' : 'bg-am-gray text-gray-900'}`}>\r\n      {/* Sidebar */}\r\n      <div className=\"w-64 bg-gray-900/95 p-5 flex flex-col shadow-2xl border-r border-gray-800/60\">\r\n        <div className=\"flex items-center mb-6\">\r\n          <div className=\"w-10 h-10 bg-am-blue text-white flex items-center justify-center rounded-full font-bold\">AM</div>\r\n          <h1 className=\"text-xl font-semibold ml-3 text-white\">Abdul Moiz's AI</h1>\r\n        </div>\r\n        <button \r\n          onClick={() => {\r\n            setMessages([]);\r\n            setContext([]);\r\n          }}\r\n          className=\"bg-am-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center mb-6 transition duration-300\"\r\n        >\r\n          <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n            <path d=\"M10 2a8 8 0 100 16 8 8 0 000-16zM1 10a9 9 0 1118 0 9 9 0 01-18 0zm10-7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 100-2h-3V4a1 1 0 00-1-1z\"/>\r\n          </svg>\r\n          New Chat\r\n        </button>\r\n        <div className=\"flex-1 overflow-y-auto space-y-2\">\r\n          <p className=\"text-gray-400 text-sm mb-3\">Recent Chats</p>\r\n          <ul>\r\n            <li className=\"p-2 text-gray-400 hover:bg-gray-800/70 rounded-lg cursor-pointer transition duration-300\">\r\n              {messages.length > 0 ? 'Current Chat' : 'No chats yet'}\r\n            </li>\r\n          </ul>\r\n        </div>\r\n        <button\r\n          className=\"bg-gray-700 hover:bg-gray-600 text-white px-4 py-2 rounded-lg mt-6 transition duration-300 flex items-center justify-center\"\r\n          onClick={() => setIsDarkMode(!isDarkMode)}\r\n        >\r\n          {isDarkMode ? (\r\n            <>\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path fillRule=\"evenodd\" d=\"M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z\" clipRule=\"evenodd\" />\r\n              </svg>\r\n              Light Mode\r\n            </>\r\n          ) : (\r\n            <>\r\n              <svg className=\"w-4 h-4 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                <path d=\"M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z\" />\r\n              </svg>\r\n              Dark Mode\r\n            </>\r\n          )}\r\n        </button>\r\n      </div>\r\n\r\n      {/* Chat Window */}\r\n      <div className=\"flex-1 flex flex-col\">\r\n        <div className=\"bg-white dark:bg-gray-800 p-4 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center\">\r\n          <div>\r\n            <h2 className=\"text-xl font-semibold text-am-blue dark:text-blue-400\">Abdul Moiz's Voice AI</h2>\r\n            <p className=\"text-sm text-gray-600 dark:text-gray-400\">Powered by advanced AI</p>\r\n          </div>\r\n          {isConnecting && (\r\n            <div className=\"flex items-center text-sm text-gray-500\">\r\n              <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-am-blue mr-2\"></div>\r\n              Connecting...\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"flex-1 p-6 overflow-y-auto space-y-4 chat-window bg-white dark:bg-gray-900\">\r\n          {messages.length === 0 && (\r\n            <div className=\"flex items-center justify-center h-full\">\r\n              <div className=\"text-center\">\r\n                <div className=\"w-16 h-16 bg-am-blue/10 dark:bg-am-blue/20 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                  <svg className=\"w-8 h-8 text-am-blue\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                    <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 className=\"text-lg font-semibold text-gray-700 dark:text-gray-300 mb-2\">Welcome to Abdul Moiz's AI</h3>\r\n                <p className=\"text-gray-500 dark:text-gray-400\">Start a conversation or use voice input to chat with the AI</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {messages.map((msg, index) => (\r\n            <div\r\n              key={index}\r\n              className={`p-3 rounded-xl max-w-[70%] shadow-lg animate-fade-in ${\r\n                msg.sender === 'user'\r\n                  ? 'bg-am-blue text-white ml-auto'\r\n                  : 'bg-gray-100 text-gray-900 dark:bg-gray-800 dark:text-white'\r\n              }`}\r\n            >\r\n              {msg.text}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"p-4 border-t bg-white dark:bg-gray-900/90 border-gray-200 dark:border-gray-700\">\r\n          <div className=\"flex items-center space-x-3 max-w-3xl mx-auto\">\r\n            <input\r\n              type=\"text\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && !isConnecting && handleSend()}\r\n              disabled={isConnecting}\r\n              className={`flex-1 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-am-blue transition-colors ${\r\n                isDarkMode ? 'bg-gray-700 text-white border-gray-600 placeholder-gray-400' : 'bg-white text-gray-900 border-gray-300 placeholder-gray-500'\r\n              } ${isConnecting ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n              placeholder=\"Ask Abdul Moiz's AI...\"\r\n            />\r\n            <button\r\n              onClick={handleSend}\r\n              disabled={isConnecting || !input.trim()}\r\n              className={`bg-am-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center ${\r\n                (isConnecting || !input.trim()) ? 'opacity-50 cursor-not-allowed' : ''\r\n              }`}\r\n            >\r\n              {isConnecting ? (\r\n                <div className=\"animate-spin rounded-full h-4 w-4 border-b-2 border-white\"></div>\r\n              ) : (\r\n                <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 19l9 2-9-18-9 18 9-2zm0 0v-8\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n            <button\r\n              onClick={startListening}\r\n              disabled={isListening}\r\n              className={`bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center ${\r\n                isListening ? 'animate-pulse bg-red-600' : ''\r\n              }`}\r\n              title={isListening ? 'Listening...' : 'Start voice input'}\r\n            >\r\n              {isListening ? (\r\n                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 012 0v4a1 1 0 11-2 0V7zM12 7a1 1 0 012 0v4a1 1 0 11-2 0V7z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              ) : (\r\n                <svg className=\"w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n                  <path fillRule=\"evenodd\" d=\"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z\" clipRule=\"evenodd\" />\r\n                </svg>\r\n              )}\r\n            </button>\r\n            <input\r\n              type=\"file\"\r\n              onChange={handleFileChange}\r\n              className={`text-sm file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:transition-colors ${\r\n                isDarkMode \r\n                  ? 'text-gray-400 file:bg-gray-700 file:text-gray-300 hover:file:bg-gray-600' \r\n                  : 'text-gray-500 file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100'\r\n              }`}\r\n              accept=\"image/*,.pdf,.txt,.doc,.docx\"\r\n              title=\"Upload a file\"\r\n            />\r\n            <button\r\n              onClick={handleFileUpload}\r\n              disabled={!selectedFile}\r\n              className={`bg-am-blue hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition duration-300 flex items-center ${\r\n                !selectedFile ? 'opacity-50 cursor-not-allowed' : ''\r\n              }`}\r\n              title=\"Upload selected file\"\r\n            >\r\n              <svg className=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12\" />\r\n              </svg>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}